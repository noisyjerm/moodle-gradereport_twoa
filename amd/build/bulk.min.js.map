{"version":3,"file":"bulk.min.js","sources":["../src/bulk.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript module for fixing the position of sticky headers with multiple colspans\n *\n * @module      gradereport_twoa/actions\n * @copyright   2023 Te WÄnanga o Aotearoa\n * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n\n/**\n * Initialize module\n */\nexport const init = () => {\n    document.querySelector('select#menusetstatuses').addEventListener('change', bulkUpdateStatus);\n    document.querySelector('form.updateselected').addEventListener('change', highlightrow);\n};\n\nconst highlightrow = (evt) => {\n    let el = evt.target;\n    let row = el.closest('tr');\n    let cssClass = row.getAttribute('class');\n    if (el.checked) {\n        cssClass += ' selected';\n        row.setAttribute('class', cssClass);\n    } else {\n        cssClass = cssClass.replace(' selected', '');\n        row.setAttribute('class', cssClass);\n    }\n};\n\nconst bulkUpdateStatus = (evt) => {\n    let el = evt.target;\n    let form = el.closest('form');\n    form.submit();\n};\n"],"names":["document","querySelector","addEventListener","bulkUpdateStatus","highlightrow","evt","el","target","row","closest","cssClass","getAttribute","checked","setAttribute","replace","submit"],"mappings":"0JA2BoB,KAChBA,SAASC,cAAc,0BAA0BC,iBAAiB,SAAUC,kBAC5EH,SAASC,cAAc,uBAAuBC,iBAAiB,SAAUE,qBAGvEA,aAAgBC,UACdC,GAAKD,IAAIE,OACTC,IAAMF,GAAGG,QAAQ,MACjBC,SAAWF,IAAIG,aAAa,SAC5BL,GAAGM,SACHF,UAAY,YACZF,IAAIK,aAAa,QAASH,YAE1BA,SAAWA,SAASI,QAAQ,YAAa,IACzCN,IAAIK,aAAa,QAASH,YAI5BP,iBAAoBE,MACbA,IAAIE,OACCE,QAAQ,QACjBM"}